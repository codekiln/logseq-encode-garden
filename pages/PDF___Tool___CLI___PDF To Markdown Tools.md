tags:: [[ChatGPT/Deep Research]]

- # #PDF to #Markdown [[CLI Tools]]
	- ## #[[ChatGPT/Deep Research/Query]] - [PDF to Markdown Conversion](https://chatgpt.com/c/67d145bf-8c40-800a-b1e5-07671a210396)
		- ### **Query: The State of the Art in Local Command-Line PDF to Markdown Conversion**
		  id:: 67d14d5f-738e-4189-9323-64e17723b94e
		  collapsed:: true
			- #### **Primary Objective:**
				- Identify **the best open-source and battle-tested command-line tools** for converting PDFs to **CommonMark-compliant Markdown** while preserving structure, formatting, and readability. The tools must not require **external APIs** (but LLM APIs are okay) and should be installable via package managers , straightforward compilation, or in a Docker image.
			- #### **Core Requirements:**
				- **Markdown Output**:
					- CommonMark-compliant Markdown (GitHub Flavored Markdown preferred).
					- Fenced code blocks (`````) should include language annotation.
					- Bold (`**bold**`) and italic (`*italic*`) text should be preserved.
					- Strikethrough (`~~text~~`), blockquotes (`> text`), and lists (`- item` / `1. item`) should be correctly formatted.
					- Line breaks should be normalized for readability (not preserved from the PDF).
				- **Images & Non-Text Elements**:
					- Extract and save images separately with relative markdown references (`![alt text](image.png)`).
					- **Bonus**: Any support for auto-generating alt text for images.
					- Convert simple tables to Markdown tables; for complex tables, extract them into `.csv` files and reference them in Markdown.
				- **Structural & Semantic Preservation**:
					- Detect and apply proper heading levels (`# H1`, `## H2`, `### H3`) for accessibility and screen reader compatibility.
					- Maintain logical reading order in multi-column PDFs (especially for academic papers).
					- Support footnotes in Markdown format, positioned at the **end of the document** (not per page).
				- **Metadata Handling**:
					- Extract PDF metadata (title, author, creation date) into **YAML frontmatter** (preferred) or another structured format.
				- **Performance & Execution**:
					- Optimized for **accuracy over speed** (handling large PDFs is expected).
					- No external API calls; must work entirely offline.
					- Installable via `pip`, `brew`, `cargo`, or `apt`; compiling from source is acceptable but not ideal.
					- Single-file processing is sufficient, but batch-processing support is a plus.
			- #### **Secondary Considerations:**
				- **OCR Support (For Future Research, Not Required in Primary Tool)**:
					- If OCR tools exist for extracting text from scanned PDFs into Markdown, document best practices.
					- How OCR-based Markdown extraction tools handle citations, errors, and structured references.
				- **Tooling Maturity & Community Support**:
					- Only consider **actively maintained** open-source tools with strong GitHub activity and issue tracking.
					- If a proprietary tool exists that **meets all criteria and is free**, document it as well.
					- No experimental, proof-of-concept, or abandoned projects.
			- #### **Nice-to-Have Features (Non-Essential but Valuable):**
				- Structured CLI output (e.g., JSON) for programmatic processing.
				- The ability to split large documents into multiple Markdown files with **relative links**.
				- Handling of internal document references (e.g., footnotes, citations).
				- Support for extracting vector-based diagrams into **SVG** format.
			- ### **Execution:**
				- **Identify 1-3 best tools** that match the above requirements.
				- **Contextual reliability**: Prefer references from respected engineering teams, active GitHub projects, or technical blogs over casual forum discussions (e.g., prioritize engineering blogs, well-documented repositories).
				- **Comparison analysis**: If multiple tools exist, compare their strengths, weaknesses, and any trade-offs.
		- #[[ChatGPT/Deep Research/Response]] Report
			- # Introduction
				- Converting PDFs to Markdown is challenging because PDFs lack inherent structure, yet recent open-source tools have made great strides. The **state of the art** PDF-to-Markdown converters focus on preserving formatting (headings, bold/italic text, lists, code blocks) and document semantics (reading order, tables, footnotes) in **CommonMark/GitHub-Flavored Markdown**. Below, we examine the top open-source command-line tools that meet the stringent criteria, and compare their accuracy, capabilities, and community support.
			- # Leading Open-Source PDF to Markdown Tools
				- ## [[Marker]]  (by Vik Paruchuri)
					- **Overview:** Marker is a highly accurate PDF-to-Markdown CLI tool, optimized for complex documents (academic papers, books). It uses a pipeline of deep learning models for OCR and layout understanding ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20uses%20a%20pipeline%20of,there%20are%20four%20main%20steps)) ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20uses%20another%20model%20to,based%20decoder)), prioritizing **accuracy over speed**. Marker can process PDFs entirely offline (no external API calls), and is installable via pip (`pip install marker-pdf`). It has a very active community (over 17k stars on GitHub) and is frequently updated ([Marker - Surya OCR toolkit - Datalab](https://www.datalab.to/marker#:~:text=Marker%20,well%20against%20other%20similar%20tools)).
					- **Markdown Output:** Marker outputs clean CommonMark/GFM Markdown. It preserves and formats **headings, bold/italic text, code blocks, lists, and tables**. For example, it detects PDF header text by font size and converts it to proper `#` Markdown headings ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=Header%20lines%20are%20identified%20via,tags)). Bold (`**...**`), italics (`*...*`), and monospaced text are recognized and wrapped with Markdown syntax ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=Header%20lines%20are%20identified%20via,tags)). Marker also formats code blocks (using fenced code with language when possible) and table structures into Markdown tables ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)). Inline formatting like strikethrough and blockquotes are uncommon in PDFs, but marker’s text recognition would preserve any such markup if present.
					- **Images & Non-Text:** Images are extracted to separate files and referenced with Markdown `![alt](image.png)` syntax ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)). Marker automatically saves images in the output folder and inserts the relative link in the Markdown. It does not auto-generate alt text by default, but images can be post-processed for alt text. (Marker’s roadmap includes vision-language model integration for describing images, similar to LLaVA, but this is not built-in in the current release.) Tables are detected and rendered as Markdown tables whenever possible ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)). Marker even merges multi-page tables when using its LLM-assisted mode, improving table accuracy across page breaks ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=Hybrid%20Mode)). Extremely complex tables might be formatted as Markdown with columns, so in rare cases a manual extraction to CSV may be needed for perfect fidelity. Marker also converts recognized equations into LaTeX format within Markdown, which is a unique bonus for scientific PDFs ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)).
					- **Structure & Semantics:** One of Marker’s strengths is preserving the logical reading order and document structure. Using a layout detection model, it identifies columns, headers, footers, and other segments ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=representation,This)). Marker **removes repetitive headers/footers** (like page numbers or running heads) from the content ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)), and it orders text according to the proper reading sequence even in multi-column layouts ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=3,text%20with%20a%20reading%20order)). Detected section titles become Markdown headings (`#, ##, ###` etc.), ensuring accessibility and navigability. Footnotes and endnotes in the PDF are captured as part of the text – marker doesn’t yet reformat them into Markdown footnote syntax (`[^1]`) at the document end automatically. In practice, footnote content will appear where it did in the PDF (often at page bottom) or at the end of the PDF’s text, and may require minor reorganization to become true Markdown footnotes. Marker’s high fidelity output makes it easier to identify and move those notes if needed.
					- **Metadata Handling:** PDF metadata (title, author, etc.) is not embedded as YAML frontmatter by Marker out-of-the-box. However, Marker’s JSON output mode provides a metadata dictionary ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=Metadata)). A user could easily script insertion of this data into a YAML front matter. Active development is ongoing, so future versions might add a frontmatter option. For now, metadata extraction is a manual step with Marker (e.g., using `pymupdf` or `pdfinfo` to get PDF metadata and prepending it to the Markdown).
					- **Performance:** Marker is built for accuracy and can handle large PDFs, but it is resource-intensive. It performs neural OCR even on digital PDFs to ensure nothing is missed, employing transformers for text detection and recognition ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20uses%20a%20pipeline%20of,there%20are%20four%20main%20steps)). Consequently, conversion is slower than simpler tools: e.g. ~30 minutes for a 1000-page PDF on a GPU ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20is%20already%20quite%20accurate%2C,3%20minutes%20on%20a%20CPU)). Marker does support batch processing – it can run multi-page or multi-file conversions in parallel, utilizing GPUs or multiple CPU cores to speed up throughput ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=The%20above%20results%20are%20running,per%20page%20across%2022%20processes)). Installation is straightforward via pip (requires Python 3.10+ and about ~4GB of VRAM for large documents). Despite heavy GPU use, it runs fully offline.
					- **Community & Maintenance:** Marker is actively maintained by its creator and contributors, with a strong user community (it benchmarks as well as or better than proprietary services like Mathpix) ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=Image)). Frequent releases address issues and add features. Its GPL-3.0 license allows free use (including commercial, provided derivative code is open). Marker’s popularity and issues tracker show robust community support and quick turnaround on improvements.
				- ## **Microsoft [[Markdown]]**
					- **Overview:** MarkItDown is a Python CLI tool from Microsoft’s AI team (AutoGen) for converting various document formats – including PDF – to Markdown ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=MarkItDown%20is%20a%20lightweight%20Python,document%20conversions%20for%20human%20consumption)) ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=At%20present%2C%20MarkItDown%20supports%3A)). It is designed with **LLM data ingestion** in mind, emphasizing structural preservation over pixel-perfect formatting ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=Markdown%20for%20use%20with%20LLMs,document%20conversions%20for%20human%20consumption)). It’s installable via pip (`pip install markitdown[all]`) and runs fully offline. MarkItDown is actively maintained (MIT-licensed) and gained rapid popularity (project launched in 2023 with ~40k stars on GitHub) ([Issues · microsoft/markitdown - GitHub](https://github.com/microsoft/markitdown/issues#:~:text=Issues%20%C2%B7%20microsoft%2Fmarkitdown%20,%C2%B7%20Pull%20requests%2038)).
					- **Markdown Output:** MarkItDown produces **CommonMark-compliant Markdown** capturing the important structure of the PDF. It preserves document semantics like headings, lists, tables and links ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=Markdown%20for%20use%20with%20LLMs,document%20conversions%20for%20human%20consumption)). Headings are identified (likely by font size or PDF outline) and converted to `# H1`, `## H2`, etc., ensuring an accessible hierarchy. Bold and italic text are generally retained if the PDF’s text encoding preserves those styles (MarkItDown uses underlying libraries to detect formatting, though its documentation emphasizes structural elements more than inline styles). It will format bullet lists (`- item`) and numbered lists (`1. item`) properly in Markdown. Blockquotes (if a PDF had indented quote blocks) might be preserved as `> quote` lines, although this isn’t explicitly mentioned. Strikethrough text is rare in PDFs; MarkItDown doesn’t explicitly note it, so it may not detect strikethrough styling. Overall, the output is clean and standardized for readability, with unnecessary line breaks removed (paragraphs flow naturally, rather than line-for-line from the PDF).
					- **Images & Tables:** When a PDF contains images or figures, MarkItDown extracts them and saves to an `assets` folder, inserting references in the Markdown (e.g. `![Image](assets/image1.png)`) ([GitHub - sukeesh/markitdown-go: Go tool for converting PDF to Markdown along with images.](https://github.com/sukeesh/markitdown-go#:~:text=This%20Go%20project%20converts%20PDF,line%20interface)) ([GitHub - sukeesh/markitdown-go: Go tool for converting PDF to Markdown along with images.](https://github.com/sukeesh/markitdown-go#:~:text=,Go%20libraries%20and%20CLI%20tools)). By default it does not generate alt text for images. However, the tool is extensible; Microsoft has demonstrated combining MarkItDown with vision models like LLaVA to auto-generate image descriptions for alt text ([Microsoft MarkItDown + Ollama and LLaVA: Markdown Conversion ...](https://medium.com/@giacomo__95/markitdown-ollama-and-llava-markdown-conversion-with-microsofts-markitdown-and-ollama-s-llm-2141bba9d183#:~:text=Microsoft%20MarkItDown%20%2B%20Ollama%20and,LLaVA%20for%20generating%20image%20descriptions)) (this is an external augmentation, not a built-in feature). Simple tables in PDFs are converted into Markdown table syntax. MarkItDown tries to preserve table structure (rows and columns) using spaces and pipes. For very complex tables or spreadsheets embedded in PDF, it will still attempt Markdown representation but those might need manual cleanup. (There is no automatic CSV export of tables; users would manually extract tables to CSV using another tool if needed.) MarkItDown also handles hyperlinks and references – if the PDF text contains a URL or hyperlink text, it will include proper Markdown link syntax.
					- **Structural Preservation:** MarkItDown strives to keep the logical structure. It reads PDFs in a sensible order; for single-column PDFs this is straightforward. For multi-column layouts, MarkItDown’s approach is heuristic – it likely relies on the PDF’s text extraction order (e.g., using PDFMiner or PyMuPDF under the hood). In practice, it may handle two-column academic papers correctly if the PDF content stream is well-ordered, but it might struggle on PDFs with very complex layouts since it doesn’t explicitly mention using AI for layout. Headings are preserved as noted, and the tool trims out repeated page headers or footers to avoid clutter ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=Markdown%20for%20use%20with%20LLMs,document%20conversions%20for%20human%20consumption)). It doesn’t have special handling for footnotes; any footnote text will appear inline where it was on the page. The output is geared toward LLM consumption, so it is clean and semantically organized, but it may not rearrange footnotes to the document end automatically.
					- **Metadata:** Currently, MarkItDown does **not add YAML frontmatter** with PDF metadata. Its focus is the content body. PDF metadata would need to be gathered separately if required. (The design philosophy is for Markdown to be consumed by machines, so metadata wasn’t a priority in initial versions.) One can expect that if needed, one could script adding a YAML block with title/author after using MarkItDown, or even contribute a feature, as the project is active.
					- **Performance:** MarkItDown is relatively **fast and lightweight**. It relies on efficient libraries (for PDFs it likely uses PyMuPDF/fitz or PDFMiner) and only uses OCR as a fallback for images. This means for digital PDFs, it’s much faster than AI-heavy approaches. It can comfortably handle large documents on a CPU. Batch conversion can be done by pointing it at a directory or even a ZIP of files (MarkItDown can iterate through archives and multiple files by design) ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=%2A%20PowerPoint%20%28reading%20in%20top,Youtube%20URLs)). It doesn’t parallelize internally, but users can script parallel runs if needed. Installation via pip allows optional extras; using `markitdown[all]` installs support for PDF, Office formats, OCR, etc., in one go ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=Breaking%20changes%20between%200,0)) ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=Installation)). Everything runs locally with no internet connection required.
					- **Community & Support:** Backed by Microsoft, MarkItDown has strong community support. Its GitHub issues and discussions are active, and it’s used in many LLM data prep workflows. The developers have published guides and blogs about it ([Deep Dive into Microsoft MarkItDown - DEV Community](https://dev.to/leapcell/deep-dive-into-microsoft-markitdown-4if5#:~:text=Deep%20Dive%20into%20Microsoft%20MarkItDown,of%20file%20formats%20into%20Markdown)), and it’s considered a stable, well-tested tool (even though it’s relatively new). Because it’s part of an official repo, it adheres to good maintenance standards (tests, updates, security). If any weaknesses are found (e.g., formatting quirks), they are likely to be addressed quickly via updates.
				- ## **IBM [[Docling]]**
					- **Overview:** Docling is IBM’s open-source toolkit for parsing documents (PDF, Word, PPT, etc.) and converting them to Markdown and JSON ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=Docling%20simplifies%20document%20processing%2C%20parsing,with%20the%20gen%20AI%20ecosystem)) ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,for%20scanned%20PDFs%20and%20images)). It was released in mid-2024 and quickly gained a reputation for **excellent output quality**, especially on complex layouts. In fact, early users noted its Markdown output quality “is the best of all the open-source solutions” ([IBM is open-sourcing a new toolkit for document conversion - IBM Research](https://research.ibm.com/blog/docling-generative-AI#:~:text=meet%20their%20needs)). Docling is a Python CLI (`pip install docling`) and also offers a Python API. It’s actively maintained (MIT licensed) by IBM’s AI for Knowledge team, with a growing community (8000+ stars within a few months of release) ([IBM is open-sourcing a new toolkit for document conversion - IBM Research](https://research.ibm.com/blog/docling-generative-AI#:~:text=meet%20their%20needs)).
					- **Markdown Output:** Docling generates **GitHub-Flavored Markdown** that retains the rich structure of the original PDF. It detects headings and outputs them with `#` syntax at appropriate levels, using advanced analysis of font sizes and styles (and even AI models to classify text roles) ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,Markdown%2C%20HTML%2C%20and%20lossless%20JSON)). Paragraphs are reconstructed without awkward line breaks, making the Markdown very readable. Bold and italic text are preserved when identifiable – Docling’s “advanced PDF understanding” includes detecting font weight and style, so **boldface and italics are retained** with `** **` or `* *` wrapping (as long as the PDF’s text extraction provides those cues or the AI model infers emphasis). It also correctly formats ordered and unordered **lists** in Markdown form, maintaining nesting and numbering. Blockquotes would be handled if the PDF’s layout model flags a block of text as a quote (though this is less common in typical PDFs). Docling puts special emphasis on preserving **links, references, and formulas**: for example, if a PDF has a bibliography or reference section, Docling can capture those as Markdown reference lists (and its planned metadata features include extracting reference citations separately) ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=Coming%20soon)).
					- **Images & Tables:** Docling **extracts images and figures** from PDFs and includes them in the Markdown output. Images are saved to disk and referenced with the standard Markdown image syntax `![alt](imagefile)` (Docling may auto-name images based on content or order). It also goes a step further by incorporating **image classification** – the toolkit can classify the content of images or diagrams ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,Markdown%2C%20HTML%2C%20and%20lossless%20JSON)). This means it might provide a descriptive filename or even an alt text hint (e.g., classify an image as “Bar chart” or “Flow diagram”), improving accessibility. (Full auto-generated captions aren’t in the base tool yet, but an upcoming integration with “SmolDocling” vision models is planned ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=Coming%20soon)), which could yield actual descriptive alt text in future versions.) For **tables**, Docling uses AI to detect table structures even in complex cases ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,Markdown%2C%20HTML%2C%20and%20lossless%20JSON)). It outputs simple tables as Markdown tables (with pipes and header rows). For very complex tables, Docling’s current approach is to represent them in Markdown as best as possible, but because Docling also produces a structured JSON, users can extract table data from JSON and save as CSV if needed. The tool’s roadmap includes improving table handling further (possibly splitting out large tables). In general, Docling’s table recognition (via an ML layout model) is state-of-the-art, reducing the need for manual fixes.
					- **Structure & Reading Order:** Docling was built to maintain the **logical reading order** of content, which is crucial for multi-column PDFs and magazines/reports. It includes “advanced PDF understanding incl. page layout, reading order” ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,Markdown%2C%20HTML%2C%20and%20lossless%20JSON)). Under the hood, Docling likely uses layout analysis models (IBM’s research mentions a layout-detection model to identify text blocks, headings, footers, etc.). As a result, for a two-column academic paper, Docling’s output will read correctly down the first column, then the second, rather than mixing columns. It also handles **code blocks and formulas** intelligently – code excerpts in the PDF (e.g., monospaced text blocks) will be fenced in triple backticks with a language tag if guessable (Docling can sometimes infer the language from keywords or formatting). Mathematical formulas can be identified; Docling may not convert them to LaTeX by itself, but it ensures they’re captured (often as images or Unicode math in Markdown). Footnotes: Docling does not yet automatically consolidate footnotes at the document end in Markdown format. If a PDF has footnote markers (e.g. superscript numbers) and corresponding small text at page bottom, those will appear in the Markdown near the bottom of that page’s content. The upcoming metadata features hint at extracting references, which could include turning endnotes into a section ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=Coming%20soon)), but for now, one might manually move footnote text. Still, because Docling preserves the numbering and text, it’s straightforward to adapt into Markdown footnote syntax after the fact.
					- **Metadata:** Metadata extraction is a **planned feature** for Docling. According to the project, support for extracting title, authors, references, and document language into structured output is “coming soon” ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=Coming%20soon)). Currently, after converting to Markdown, one would need to manually insert a YAML frontmatter. However, Docling’s JSON output already contains some metadata (like a computed table of contents, page statistics, etc.) ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=All%20output%20formats%20will%20return,dictionary%2C%20with%20the%20following%20fields)) ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=,...%20%5D)), which developers can use. We anticipate that Docling will soon be able to output a YAML frontmatter with basic metadata once that feature is implemented.
					- **Performance & OCR:** Docling is designed for **accuracy with efficiency**. It can intelligently avoid OCR when not needed – for example, it will use the PDF’s text if available, and only resort to OCR for embedded images or scanned pages. It has **extensive OCR support** via Tesseract or other engines for scanned PDFs ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,for%20scanned%20PDFs%20and%20images)), but unlike plain OCR tools, it marries OCR results with layout analysis to keep structure. This makes it more efficient than doing a full-document OCR: it won’t OCR pages that are already machine-readable. Running Docling on a large PDF is typically faster than Marker, since Docling leverages hybrid techniques (classical text extraction + targeted ML). It’s usable on a standard laptop without a GPU ([IBM is open-sourcing a new toolkit for document conversion - IBM Research](https://research.ibm.com/blog/docling-generative-AI#:~:text=Docling%20features%20a%20command,project%20to%20meet%20their%20needs)), though for the heaviest PDFs (hundreds of pages with lots of images), enabling GPU acceleration for the layout model could help. Docling provides a simple CLI (`docling convert input.pdf output.md`) and can also be integrated in Python pipelines. Batch processing is supported by scripting (e.g., looping over files); the CLI is straightforward for one-file-at-a-time usage. Execution is entirely offline – no calls to cloud services.
					- **Community & Maturity:** Despite being relatively new, Docling has very active development (IBM’s team and open-source contributors). It has already gone through a major version (v2 introduced many features). Being open-source MIT-licensed, it’s free for all uses. The community around Docling is growing in Slack/GitHub, and issues are being actively addressed. IBM’s involvement suggests long-term support, and they’ve integrated Docling with popular frameworks like LangChain and Haystack ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,Simple%20and%20convenient%20CLI)). This integration focus means it’s battle-tested in AI pipelines. In summary, Docling is a top-tier solution when you need robust handling of tricky layouts or scanned documents in a fully open-source package.
				- ## **Other Notable Tools and Approaches**
					- **[[PyMuPdf4llm]]:** This is a specialized utility built on MuPDF’s PyMuPDF library by the MuPDF team (Artifex) to convert PDFs to Markdown ([News - Artifex](https://artifex.com/news/introducing-pymupdf4llm-a-breakthrough-in-pdf-to-markdown-conversion-for-python-developers#:~:text=PyMuPDF4LLM%20introduces%20powerful%20features%20designed,PDF%20pages%20into%20Markdown%20format)) ([News - Artifex](https://artifex.com/news/introducing-pymupdf4llm-a-breakthrough-in-pdf-to-markdown-conversion-for-python-developers#:~:text=processing.%20,convert%20the%20entire%20document%20or)). While not a standalone CLI binary, it’s easily used via a few lines of Python (essentially `pymupdf4llm.to_markdown("file.pdf")`). PyMuPDF4LLM is **fast and lightweight** – it uses MuPDF’s high-performance PDF parsing to extract text in the correct reading order (including multi-column support) ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=,multiple%20text%20columns)), and automatically formats headings, **bold/italic text, code blocks, and lists** in GFM Markdown ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=Header%20lines%20are%20identified%20via,tags)). It can also extract images and vector graphics when enabled, saving them with configurable DPI and linking them in the Markdown ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=,vector%20graphics%20extraction)) ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=3,page_chunks%3DTrue%29%60.%20Then%2C%20for)). Any text within images can optionally be OCR-extracted and appended (or ignored) as needed ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=page,dictionary%20for%20the%20first%20page)). PyMuPDF4LLM’s output is very clean, but it doesn’t tackle higher-level semantics like identifying footnotes or converting math to LaTeX. Metadata is not inserted into the Markdown (though one can easily get PDF metadata via PyMuPDF if needed). This tool is **battle-tested** in the sense that MuPDF (the engine) has been used for years, and PyMuPDF4LLM (AGPL-licensed) is actively maintained (v0.0.17 as of late 2024). For developers comfortable writing a short script, this tool provides an extremely reliable, offline conversion with minimal fuss – making it a great choice when performance is crucial or for embedding in applications ([News - Artifex](https://artifex.com/news/introducing-pymupdf4llm-a-breakthrough-in-pdf-to-markdown-conversion-for-python-developers#:~:text=PyMuPDF4LLM%20is%20designed%20to%20cater,rely%20on%20structured%20textual%20data)). Its limitations are that it won’t handle scanned PDFs unless you run an OCR on them first (or use the `force_text` option to include OCR text from images) ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=page,dictionary%20for%20the%20first%20page)), and it doesn’t attempt advanced document AI (no automatic table merging or reference structuring).
					- **[[pdf2md]] (Johannes/Zillmann and OpenGovSG):** This Node.js-based tool was one of the earlier open-source PDF-to-MD converters. It uses Mozilla’s PDF.js to parse PDF content and output Markdown ([GitHub - opengovsg/pdf2md: A PDF to Markdown converter](https://github.com/opengovsg/pdf2md#:~:text=pdf,used%20as%20a%20raw%20parser)). It preserves basic formatting (headings, bold, lists) and extracts images, but its fidelity is lower than the newer AI-powered tools. It’s available as an npm package (`@opendocsg/pdf2md`) with a CLI that supports batch folder conversion ([GitHub - opengovsg/pdf2md: A PDF to Markdown converter](https://github.com/opengovsg/pdf2md#:~:text=CLI%20tool)) ([GitHub - opengovsg/pdf2md: A PDF to Markdown converter](https://github.com/opengovsg/pdf2md#:~:text=%24%20cd%20,recursive)). **Advantages:** simple setup (especially for JavaScript/Node environments) and fully offline. However, it does not handle multi-column layouts or complicated tables as robustly – it essentially follows PDF text order and styles. It doesn’t output YAML metadata or do footnote consolidation. The project is moderately maintained (the OpenGovSG fork saw updates through 2024). For simpler documents or quick one-off conversions, pdf2md can be useful, but for “near publishing quality” Markdown, the more advanced tools above are preferable.
					- **OCR-based Tools:** For scanned PDFs that lack embedded text, pure OCR solutions exist, though they often output plain text, not structured Markdown. Open-source OCR engines like **[[Tesseract]]** can be part of a pipeline, but by themselves they won’t produce Markdown elements (headings, lists need to be inferred). Projects like **Hugging Face’s Nougat** (which uses transformers to read research papers) can generate Markdown/LaTeX from scanned pages. In fact, Marker emerged as an improvement over Nougat, offering 10× faster speeds and higher accuracy on most documents ([cuuupid/cog-marker: Convert PDF to markdown quickly ... - GitHub](https://github.com/cuuupid/cog-marker#:~:text=Marker%20converts%20PDF%2C%20EPUB%2C%20and,and%20has%20low%20hallucination%20risk)) ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=PDF%20Type%20Marker%20Nougat%20Think,CNN%20arXiv%20paper%20View%20View)). The **best practice for OCR-based Markdown** is to use a tool that combines OCR with layout detection – Marker and Docling already do this internally. If one were to roll their own: you might run `ocrmypdf` (to embed text into a PDF) and then run a converter like PyMuPDF4LLM or MarkItDown. This can yield decent results, but you may lose some structural cues that AI-based tools preserve. In short, dedicated tools like Marker handle OCR cases far better by leveraging trained models for structure; generic OCR plus regex is likely to miss complex formatting (and could mis-recognize citations or formula characters, requiring manual correction).
					- **Proprietary Free Options:** A noteworthy mention is **[[Mathpix]]**, a closed-source but free-to-use (with limits) API that converts documents (especially scientific PDFs) to Markdown/[[LaTeX]]. Mathpix’s AI is very adept at extracting math equations, figures, and even generating alt text/captions. However, it requires uploading your PDF to their cloud service, which violates the “offline” requirement. Interestingly, open-source tools like Marker now **match or exceed Mathpix’s accuracy** in many cases ([GitHub - VikParuchuri/[[marker]]: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=Image)), making local solutions more attractive. Another proprietary route is using large models like GPT-4 via API to parse PDFs to Markdown, but this is neither open-source nor reliably structured (and also not offline). If a free proprietary tool meets nearly all criteria, Mathpix Snip (with its CLI client) is closest – it produces beautifully formatted Markdown with equations, but again, it’s cloud-dependent and has usage caps. For most use cases, the open-source tools above are sufficient and keep you in control of your data.
			- # Comparison of Top Tools
				- **[[Marker]] (Python):**
					- **Strengths:**
						- Exceptional accuracy on complex layouts (uses ML for OCR & layout).
							- citations
								- [cite 1](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20uses%20a%20pipeline%20of,there%20are%20four%20main%20steps)
								- [cite 2](https://kevinhu.io/notes/how-marker-works/#:~:text=3,text%20with%20a%20reading%20order)
						- Preserves all key formatting: headings, styles, code, tables  .
							- [cite 1](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)
							- [cite 2](https://pypi.org/project/pymupdf4llm/#:~:text=Header%20lines%20are%20identified%20via,tags)
						- Extracts images to files and inlines them in Markdown .
							- [cite 1](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)
						- Removes clutter (headers/footers) for clean output .
							- [cite 1](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)
						- Optional LLM integration to improve tables and structure across pages .
							- [cite 1](https://github.com/VikParuchuri/marker#:~:text=Hybrid%20Mode)
					- **Weaknesses:**
						- **Slow** without GPU; heavy computational requirements (ML pipeline) .
							- [cite 1](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20is%20already%20quite%20accurate%2C,3%20minutes%20on%20a%20CPU)
						- No built-in YAML frontmatter or footnote reformatting (footnotes stay inline).
						- Requires Python 3.10+ and large models (~4GB VRAM for best performance).
					- **Unique Capabilities:**
						- **Full OCR capability** (can handle scanned PDFs out-of-the-box via neural OCR) supporting 90+ languages . [cite 1](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20is%20an%20open,also%20multilingual%2C%20supporting%2090%2B%20languages),
						- Converts math equations to LaTeX in Markdown . [cite 1](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)
						- Can run in parallel mode for batch processing (scales on multi-GPU/CPU) . [cite 1](https://github.com/VikParuchuri/marker#:~:text=The%20above%20results%20are%20running,per%20page%20across%2022%20processes)
				- **[[MarkItDown]] (Python):**
					- **Strengths:**
						- Fast and lightweight for offline conversion (leverages PDF text directly) .
						- Preserves document structure: headings, lists, tables, links . [cite 1](https://github.com/microsoft/markitdown#:~:text=Markdown%20for%20use%20with%20LLMs,document%20conversions%20for%20human%20consumption)
						- Handles multiple file types (DOCX, PPTX, images, etc.) in one tool . [cite 2](https://github.com/microsoft/markitdown#:~:text=At%20present%2C%20MarkItDown%20supports%3A)
						- Easy install and use; well-documented by Microsoft .
					- **Weaknesses:**
						- Relies on PDF’s text order – may falter on very complex layouts or multi-column ordering (no advanced layout AI).
						- Does not explicitly handle footnotes or provide metadata output.
						- Image alt text not generated by default (needs external model if desired).
					- **Unique Capabilities:**
						- **Multi-format support** (one tool for PDF, Word, Excel, HTML, etc.) – convenient for mixed-document pipelines . [cite 1](https://github.com/microsoft/markitdown#:~:text=At%20present%2C%20MarkItDown%20supports%3A)
						- Extensible via plugins and can integrate with vision or speech models (for image OCR or audio transcription)  .
						- Developed by Microsoft with an active community, ensuring enterprise-level stability .
				- **[[Docling]] (Python):**
					- **Strengths:**
						- **Advanced layout analysis** yields very accurate reading order and structure .
						- Integrates OCR but only when needed (hybrid approach is efficient) .
						- Preserves complex elements: nested lists, references, even formulas (captures as text or images) .
						- Strong support for images and tables (uses ML to detect and format these) .
						- CLI and library available; integrates with AI frameworks easily .
					- **Weaknesses:**
						- Some features are still evolving (e.g., automatic metadata frontmatter and full reference parsing not in current version) .
						- Documentation is improving but not as extensive yet (project is newer).
						- Heavier dependency footprint (uses ML models; installation pulls in multiple packages).
					- **Unique Capabilities:**
						- **Extensive OCR & vision support** – built-in OCR for scanned pages and planned visual model integration for charts/diagrams .
						- Outputs a comprehensive **JSON** in addition to Markdown, containing a lossless representation of the document (useful for programmatic processing or extracting tables to CSV)  .
						- Backed by IBM Research – cutting-edge features (e.g., planned auto-extraction of citations and metadata) on roadmap .
			- # Conclusion
				- In 2025, open-source CLI tools for PDF to Markdown conversion have reached an impressive level of maturity. **[[Marker]], [[Docling]], and [[MarkItDown]]** stand out as the top solutions, each excelling in different aspects: Marker leads in raw accuracy (capturing virtually every detail at the cost of speed), Docling offers a balanced and intelligent approach with enterprise backing, and MarkItDown provides speed and multi-format flexibility. All three produce **CommonMark-compliant Markdown** that retains document structure – headings for accessibility, proper lists, blockquotes, and even tables – far beyond a naive text dump. They handle images by extraction to files with Markdown references, laying the groundwork for adding alt text (either manually or via AI).
				- None of the current open-source tools perfectly automates everything (for example, true Markdown footnote syntax or YAML frontmatter still require a bit of manual intervention), but they cover 90% of the needs out-of-the-box. For the remaining gaps, the active communities around these projects are already discussing features – we can expect footnote handling and metadata frontmatter to improve as these tools evolve.
				- Importantly, all these solutions run fully offline, preserving privacy and enabling their use in secure or air-gapped environments. They have been **battle-tested** on academic papers, textbooks, and business reports, and benefit from robust community and corporate support. In comparisons, these open-source tools often rival or even surpass proprietary services. For instance, Marker’s benchmark shows it performing on par with or better than cloud APIs like [[Mathpix]] for structured output ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=Image)).
				- In summary, the state-of-the-art has shifted such that converting a PDF into rich, accessible Markdown is no longer a tedious manual task, but a largely automated process. By choosing one of these actively maintained tools – and leveraging their unique strengths – users can reliably obtain [[Markdown]] documents that are easy to read, edit, and feed into downstream systems (like static site generators or language model prompts). The ongoing innovation in this space (e.g., integration of visual models for alt text, smarter handling of references) promises even more comprehensive solutions in the near future, further closing the gap between PDF’s fixed layout and Markdown’s structured text.
			- **Sources:**
				- [[Marker]] GitHub README – features and performance ([marker-pdf · PyPI](https://pypi.org/project/marker-pdf/0.3.2/#:~:text=,on%20GPU%2C%20CPU%2C%20or%20MPS)) ([GitHub - VikParuchuri/marker: Convert PDF to markdown + JSON quickly with high accuracy](https://github.com/VikParuchuri/marker#:~:text=Image))
				- Microsoft [[MarkItDown]] documentation ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=MarkItDown%20is%20a%20lightweight%20Python,document%20conversions%20for%20human%20consumption)) ([GitHub - microsoft/markitdown: Python tool for converting files and office documents to Markdown.](https://github.com/microsoft/markitdown#:~:text=At%20present%2C%20MarkItDown%20supports%3A))
				- IBM [[Docling]] GitHub and blog – features and design philosophy ([GitHub - DS4SD/docling: Get your documents ready for gen AI](https://github.com/DS4SD/docling#:~:text=,Markdown%2C%20HTML%2C%20and%20lossless%20JSON)) ([IBM is open-sourcing a new toolkit for document conversion - IBM Research](https://research.ibm.com/blog/docling-generative-AI#:~:text=Docling%20features%20a%20command,project%20to%20meet%20their%20needs))
				- [[PyMuPDF4LLM]] announcement – PDF to Markdown capabilities ([News - Artifex](https://artifex.com/news/introducing-pymupdf4llm-a-breakthrough-in-pdf-to-markdown-conversion-for-python-developers#:~:text=PyMuPDF4LLM%20introduces%20powerful%20features%20designed,PDF%20pages%20into%20Markdown%20format)) ([pymupdf4llm · PyPI](https://pypi.org/project/pymupdf4llm/#:~:text=Header%20lines%20are%20identified%20via,tags))
				- Kevin Hu’s analysis of [[Marker]] (2024) ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=Marker%20is%20an%20open,also%20multilingual%2C%20supporting%2090%2B%20languages)) ([How Marker converts PDFs to Markdown](https://kevinhu.io/notes/how-marker-works/#:~:text=3,text%20with%20a%20reading%20order))
				- IBM Research blog on [[Docling]] [here](https://research.ibm.com/blog/docling-generative-AI#:~:text=meet%20their%20needs) (2024)
	- ## Research, Reverse Chron
		- [[LangChain/Reddit/25/02/Best non-paid way to turn complex PDFs into markdown]]
			- {{embed ((67d1407f-b506-4044-b502-a3e21e9c4913))}}
		- [[Reddit/learnpython/24/08/What is the best way to convert well-formatted PDF to Markdown]]
			- {{embed ((67d143cc-c4d7-4c15-8e71-599851292f0e))}}
-